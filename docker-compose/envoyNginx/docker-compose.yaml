version: "3"

services:
  envoy:
    # build:
    #   context: /appimg/build/envoy
    image: envoy:1.0.0
    container_name: envoy
    ports:
      - 21001:21001
      - 21002:9901
    volumes:
      - /appimg/resources/envoy/envoy.yaml:/etc/envoy/envoy.yaml
      - /applog/envoy/:/tmp/
    environment:
      - TZ=Asia/Seoul
      - env_ip=61.109.169.71
    networks:
      - dockernet

  nginx:
    # build:
    #   context: /appimg/build/nginx
    image: nginx:1.0.0
    container_name: nginx
    ports:
      - 31011:31011
    volumes:
      - /apprun/hysweb/:/apprun/hysweb/
      - /appimg/resources/nginx/default.conf:/etc/nginx/conf.d/default.conf
      - /appimg/resources/nginx/nginx.conf:/etc/nginx/nginx.conf
      - /applog/nginx/:/var/log/nginx/
    environment:
      - TZ=Asia/Seoul
    networks:
      - dockernet

networks:
  dockernet: {}
